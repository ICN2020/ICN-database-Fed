.\" This manpage is Copyright (C) 2016 MongoDB, Inc.
.\" 
.\" Permission is granted to copy, distribute and/or modify this document
.\" under the terms of the GNU Free Documentation License, Version 1.3
.\" or any later version published by the Free Software Foundation;
.\" with no Invariant Sections, no Front-Cover Texts, and no Back-Cover Texts.
.\" A copy of the license is included in the section entitled "GNU
.\" Free Documentation License".
.\" 
.TH "MONGOC_CLIENT_SELECT_SERVER" "3" "2016\(hy10\(hy20" "MongoDB C Driver"
.SH NAME
mongoc_client_select_server() \- None
.SH "SYNOPSIS"

.nf
.nf
mongoc_server_description_t *
mongoc_client_select_server (mongoc_client_t           *client,
                             bool                       for_writes,
                             const mongoc_read_prefs_t *prefs,
                             bson_error_t              *error);
.fi
.fi

Choose a server for an operation, according to the logic described in the Server Selection Spec.

Use this function only for building a language driver that wraps the C Driver. When writing applications in C, higher\(hylevel functions automatically select a suitable server.

.SH "PARAMETERS"

.TP
.B
client
A
.B mongoc_client_t
.
.LP
.TP
.B
for_writes
Whether to choose a server suitable for writes or reads.
.LP
.TP
.B
prefs
An optional
.B mongoc_read_prefs_t
. If
.B for_writes
is true,
.B prefs
must be NULL. Otherwise, use
.B prefs
to customize server selection, or pass NULL to use the read preference configured on the client.
.LP
.TP
.B
error
An optional location for a
.B bson_error_t
or
.B NULL
.
.LP

.SH "RETURNS"

A
.B mongoc_server_description_t
that must be freed with
.B mongoc_server_description_destroy
. If no suitable server is found, returns NULL and
.B error
is filled out.


.B
.SH COLOPHON
This page is part of MongoDB C Driver.
Please report any bugs at https://jira.mongodb.org/browse/CDRIVER.